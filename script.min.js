const menuMobileBtn = document.querySelector('.menu-mobile'),
	navMenu = document.querySelector('.nav-primary');
menuMobileBtn.addEventListener('click', e => {
	mobileMenuToggleOpen(e), toggleAriaLabel();
});
const nodeList = navMenu.childNodes[1].childNodes;
for (let i = 0; i < nodeList.length; i++) 'LI' === nodeList[i].nodeName && nodeList[i].addEventListener('click', e => mobileMenuClose(e));
function mobileMenuClose(e) {
	e.preventDefault(), menuMobileBtn.classList.remove('open'), navMenu.classList.remove('open'), document.body.classList.remove('stop-scrolling'), toggleAriaLabel();
}
function mobileMenuToggleOpen(e) {
	e.preventDefault(), menuMobileBtn.classList.toggle('open'), navMenu.classList.toggle('open'), document.body.classList.toggle('stop-scrolling');
}
function toggleAriaLabel() {
	menuMobileBtn.classList.contains('open') ? menuMobileBtn.setAttribute('aria-label', 'Close menu') : menuMobileBtn.setAttribute('aria-label', 'Open menu');
}
window.addEventListener('resize', () => {
	window.innerWidth >= 910 && menuMobileBtn.classList.contains('open')
		? (menuMobileBtn.classList.remove('open'), navMenu.classList.remove('open'), document.body.classList.remove('stop-scrolling'), toggleAriaLabel())
		: window.innerWidth >= 910
		? menuMobileBtn.classList.add('hidden')
		: window.innerWidth < 910 && menuMobileBtn.classList.remove('hidden');
});
const goToHomeLinks = document.querySelectorAll('a[href="#home"]');
for (let i = 0; i < goToHomeLinks.length; i++) goToHomeLinks[i].addEventListener('click', e => smoothScroll('#home', 500));
function smoothScroll(e, n) {
	let o = document.querySelector(e),
		t = o.getBoundingClientRect().top,
		l = window.pageYOffset,
		s = performance.now();
	function a(e) {
		var o;
		let r = e - s,
			c = ((o = Math.min(r / n, 1)), o * (2 - o));
		window.scrollTo(0, l + t * c), r < n && requestAnimationFrame(a);
	}
	requestAnimationFrame(a);
}
